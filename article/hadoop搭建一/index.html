<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.140.2"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark">
<meta content="hadoop, spark, hdfs, yarn, 大数据, bigdata, java" name="keywords">
<meta content="Hadoop 环境搭建（一） - IARNO" property="og:title">
<link href="/images/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" /><title>Hadoop 环境搭建（一）&nbsp;&ndash;&nbsp;IARNO</title><link rel="stylesheet" href="/css/core.min.475767088e02a0cde98e83d380878f87eecec4c45d477990e99d2d01bfaed3a249b1503fa03e85ee68591c8e8dcedbe1.css" integrity="sha384-R1dnCI4CoM3pjoPTgIePh&#43;7OxMRdR3mQ6Z0tAb&#43;u06JJsVA/oD6F7mhZHI6Nztvh"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Hadoop 环境搭建（一）" /><body><section id="header">
    <title>Hadoop 环境搭建（一） - IARNO</title>
    <meta content="阿諾个人博客 - hadoop环境搭建" property="og:description">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name">IARNO</span></a></span>
        <span class="header right-side"><style>
    .nav-search-container {
      position: relative;
      display: inline-flex;
      align-items: center;  
      top: 1.5px;
    }
  
    .search-input {
      position: absolute;
      top: 50%;
      right: 30px;
      transform: translateY(-50%);
      width: 0;
      height: 30px;
      border: 1px solid #aaa;
      background-color: #f9f9f9;
      padding: 5px;
      border-radius: 4px;
      font-size: 14px;
      color: #333;
      opacity: 0;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      z-index: 100;
    }
  
    .nav-search-container:hover .search-input {
      width: 200px;
      opacity: 1;
    }
  
    .nav-search-container:hover .search-input:focus {
      outline: none;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }
  
    .icon {
      cursor: pointer;
      width: 14.5px;
      height: 14.5px;
      transition: fill 0.3s ease;
      margin-top: 1.5px;
    }
</style><div class="nav wrap"><nav class="nav">

<form action="/search/" class="nav item">
    <div class="nav-search-container">
        <form action="/search/" style="display:inline;">
          <input type="text" id="search-query" class="search-input" placeholder="Search.." name="q" />
        </form>
        
        <svg id="light-icon" t="1735891428136" class="icon" viewBox="0 0 1029 1024" xmlns="http://www.w3.org/2000/svg" p-id="6742">
            <path d="M763.255227 547.144339l-76.016861-9.24788a279.51809 279.51809 0 0 0 2.021852-33.557963c0-127.580077-90.193755-240.468824-214.483835-268.344067l16.749072-74.700862a351.263938 351.263938 0 0 1 274.325878 343.044929 356.575787 356.575787 0 0 1-2.596106 42.805843z" p-id="6743"></path>
            <path d="M463.889486 927.767008a463.985195 463.985195 0 0 1-180.578927-891.289921 463.997159 463.997159 0 0 1 361.157854 854.824798 461.006253 461.006253 0 0 1-180.578927 36.465123z m0-851.19982C250.32685 76.567188 76.543261 250.314886 76.543261 463.889486s173.783589 387.310335 387.346225 387.310335S851.211784 677.452122 851.211784 463.889486 677.452122 76.567188 463.889486 76.567188z" p-id="6744"></path>
            <path d="M754.342328 802.672972l54.141376-54.141376 221.327028 221.327028-54.141377 54.141376z" p-id="6745"></path>
        </svg>
        
        <svg id="dark-icon" t="1735891428136" class="icon" viewBox="0 0 1029 1024" xmlns="http://www.w3.org/2000/svg" p-id="6742" style="display:none;">
            <path d="M763.255227 547.144339l-76.016861-9.24788a279.51809 279.51809 0 0 0 2.021852-33.557963c0-127.580077-90.193755-240.468824-214.483835-268.344067l16.749072-74.700862a351.263938 351.263938 0 0 1 274.325878 343.044929 356.575787 356.575787 0 0 1-2.596106 42.805843z" p-id="6743" fill="#ffffff"></path>
            <path d="M463.889486 927.767008a463.985195 463.985195 0 0 1-180.578927-891.289921 463.997159 463.997159 0 0 1 361.157854 854.824798 461.006253 461.006253 0 0 1-180.578927 36.465123z m0-851.19982C250.32685 76.567188 76.543261 250.314886 76.543261 463.889486s173.783589 387.310335 387.346225 387.310335S851.211784 677.452122 851.211784 463.889486 677.452122 76.567188 463.889486 76.567188z" p-id="6744" fill="#ffffff"></path>
            <path d="M754.342328 802.672972l54.141376-54.141376 221.327028 221.327028-54.141377 54.141376z" p-id="6745" fill="#ffffff"></path>
        </svg>
     </div><a class="nav item" href="/categories/">分类</a><a class="nav item" href="/tags/">标签</a><a class="nav item" href=""></a></nav></div></span>
        <button style="background-color: transparent; border: 0px solid; margin-top: 8.5px;" id="light-btn" onclick="toggleTheme('light')"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="none" stroke="#e9e9e9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2m0 18v2M4.2 4.2l1.4 1.4m12.8 12.8l1.4 1.4M1 12h2m18 0h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"></path></svg></button>
        <button style="background-color: transparent; border: 0px solid; margin-top: 8.5px;" id="dark-btn" onclick="toggleTheme('dark')"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="none" stroke="#3f4b67" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button>
    </div><div class="site slogan">
            <span class="title">努力升级中的凡人</span>
        </div></section><section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">Hadoop 环境搭建（一）</h1><p class="article date">April 21, 2022</p></section><article class="article markdown-body"><p>这篇文章是关于如何在ECS实例上快速搭建Hadoop伪分布式环境的教程。主要步骤包括安装JDK，安装Hadoop，配置Hadoop，配置SSH免密登录，以及启动Hadoop。每个步骤都有详细的命令和操作说明，以及相关的参考链接。完成所有步骤后，可以通过访问特定的URL来验证Hadoop环境是否已成功搭建。</p>
<p>大多数教程都是从  <a href="http://s.iarno.cn/pegHbK"target="_blank">http://s.iarno.cn/pegHbK</a> 下载安装包，目前该网站已收费，所以另寻途径安装hadoop环境。</p>
<h2 id="背景信息">背景信息</h2>
<p>Hadoop是一款由Apache基金会用Java语言开发的分布式开源软件框架，用户可以在不了解分布式底层细节的情况下，开发分布式程序，充分利用集群的能力进行高速运算和存储。Hadoop的核心部件是HDFS（Hadoop Distributed File System）和MapReduce：</p>
<ul>
<li>HDFS：是一个分布式文件系统，可对应用程序数据进行分布式储存和读取。</li>
<li>MapReduce：是一个分布式计算框架，MapReduce的核心思想是把计算任务分配给集群内的服务器执行。通过对计算任务的拆分（Map计算和Reduce计算），再根据任务调度器（JobTracker）对任务进行分布式计算。</li>
</ul>
<p>更多信息，请参见<a href="https://hadoop.apache.org/"target="_blank">Hadoop官网</a>。</p>
<h2 id="操作步骤">操作步骤</h2>
<p>在ECS实例上快速搭建Hadoop伪分布式环境的操作步骤如下：</p>
<ol>
<li><a href="https://help.aliyun.com/document_detail/424731.html?spm=5176.21213303.J_6704733920.35.359a53c9HKeCOH&amp;scm=20140722.S_help%40%40%e6%96%87%e6%a1%a3%40%40424731._.ID_help%40%40%e6%96%87%e6%a1%a3%40%40424731-RL_hadoop%e5%ae%89%e8%a3%85-LOC_main-OR_ser-V_2-P0_9#section-7f2-ah8-2i7"target="_blank">步骤一：安装JDK</a></li>
<li><a href="https://help.aliyun.com/document_detail/424731.html?spm=5176.21213303.J_6704733920.35.359a53c9HKeCOH&amp;scm=20140722.S_help%40%40%e6%96%87%e6%a1%a3%40%40424731._.ID_help%40%40%e6%96%87%e6%a1%a3%40%40424731-RL_hadoop%e5%ae%89%e8%a3%85-LOC_main-OR_ser-V_2-P0_9#section-bx8-wr9-28y"target="_blank">步骤二：安装Hadoop</a></li>
<li><a href="https://help.aliyun.com/document_detail/424731.html?spm=5176.21213303.J_6704733920.35.359a53c9HKeCOH&amp;scm=20140722.S_help%40%40%e6%96%87%e6%a1%a3%40%40424731._.ID_help%40%40%e6%96%87%e6%a1%a3%40%40424731-RL_hadoop%e5%ae%89%e8%a3%85-LOC_main-OR_ser-V_2-P0_9#section-u3l-l1i-pza"target="_blank">步骤三：配置Hadoop</a></li>
<li><a href="https://help.aliyun.com/document_detail/424731.html?spm=5176.21213303.J_6704733920.35.359a53c9HKeCOH&amp;scm=20140722.S_help%40%40%e6%96%87%e6%a1%a3%40%40424731._.ID_help%40%40%e6%96%87%e6%a1%a3%40%40424731-RL_hadoop%e5%ae%89%e8%a3%85-LOC_main-OR_ser-V_2-P0_9#section-3bu-wl6-zlw"target="_blank">步骤四：配置SSH免密登录</a></li>
<li><a href="https://help.aliyun.com/document_detail/424731.html?spm=5176.21213303.J_6704733920.35.359a53c9HKeCOH&amp;scm=20140722.S_help%40%40%e6%96%87%e6%a1%a3%40%40424731._.ID_help%40%40%e6%96%87%e6%a1%a3%40%40424731-RL_hadoop%e5%ae%89%e8%a3%85-LOC_main-OR_ser-V_2-P0_9#section-8wn-dbe-wea"target="_blank">步骤五：启动Hadoop</a></li>
</ol>
<h2 id="步骤一安装jdk">步骤一：安装JDK</h2>
<h4 id="远程连接已创建的ecs实例">远程连接已创建的ECS实例。</h4>
<p>具体操作，请参见<a href="https://help.aliyun.com/document_detail/71529.htm#concept-tmr-pgx-wdb"target="_blank">连接方式概述</a>。</p>
<ol>
<li>
<p>执行以下命令，下载JDK 1.8安装包。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">wget https://download.java.net/openjdk/jdk8u41/ri/openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，解压下载的JDK 1.8安装包。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tar -zxvf openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，移动并重命名JDK安装包。</p>
<p>本示例中将JDK安装包重命名为<code>java8</code>，您可以根据需要使用其他名称。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mv java-se-8u41-ri/ /usr/java8
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，配置Java环境变量。</p>
<p>如果您将JDK安装包重命名为其他名称，需将以下命令中的<code>java8</code>替换为实际的名称。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;export JAVA_HOME=/usr/java8&#39;</span> &gt;&gt; /etc/profile
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;export PATH=$PATH:$JAVA_HOME/bin&#39;</span> &gt;&gt; /etc/profile
</span></span><span class="line"><span class="cl"><span class="nb">source</span> /etc/profile
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，查看Java是否成功安装。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">java -version
</span></span></code></pre></div><p>如果返回以下信息，则表示Java已安装成功。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">openjdk version <span class="s2">&#34;1.8.0_41&#34;</span>
</span></span><span class="line"><span class="cl">OpenJDK Runtime Environment <span class="o">(</span>build 1.8.0_41-b04<span class="o">)</span>
</span></span><span class="line"><span class="cl">OpenJDK 64-Bit Server VM <span class="o">(</span>build 25.40-b25, mixed mode<span class="o">)</span>
</span></span></code></pre></div></li>
</ol>
<h2 id="步骤二安装hadoop">步骤二：安装Hadoop</h2>
<ol>
<li>
<p>执行以下命令，下载Hadoop安装包。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ruby" data-lang="ruby"><span class="line"><span class="cl"><span class="n">wget</span> <span class="ss">https</span><span class="p">:</span><span class="sr">//mi</span><span class="n">rrors</span><span class="o">.</span><span class="n">bfsu</span><span class="o">.</span><span class="n">edu</span><span class="o">.</span><span class="n">cn</span><span class="o">/</span><span class="n">apache</span><span class="o">/</span><span class="n">hadoop</span><span class="o">/</span><span class="n">common</span><span class="o">/</span><span class="n">hadoop</span><span class="o">-</span><span class="mi">2</span><span class="o">.</span><span class="mi">10</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">hadoop</span><span class="o">-</span><span class="mi">2</span><span class="o">.</span><span class="mi">10</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，解压Hadoop安装包至/opt/hadoop。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tar -zxvf hadoop-2.10.1.tar.gz -C /opt/
</span></span><span class="line"><span class="cl">mv /opt/hadoop-2.10.1 /opt/hadoop
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，配置Hadoop环境变量。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;export HADOOP_HOME=/opt/hadoop/&#39;</span> &gt;&gt; /etc/profile
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;export PATH=$PATH:$HADOOP_HOME/bin&#39;</span> &gt;&gt; /etc/profile
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;export PATH=$PATH:$HADOOP_HOME/sbin&#39;</span> &gt;&gt; /etc/profile
</span></span><span class="line"><span class="cl"><span class="nb">source</span> /etc/profile    
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，修改配置文件yarn-env.sh和hadoop-env.sh。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;export JAVA_HOME=/usr/java8&#34;</span> &gt;&gt; /opt/hadoop/etc/hadoop/yarn-env.sh
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;export JAVA_HOME=/usr/java8&#34;</span> &gt;&gt; /opt/hadoop/etc/hadoop/hadoop-env.sh
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，测试Hadoop是否安装成功。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hadoop version
</span></span></code></pre></div><p>如果返回以下信息，则表示安装成功。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">Hadoop</span> <span class="m">2.10</span><span class="p">.</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="n">Subversion</span> <span class="n">https</span><span class="p">:</span><span class="c1">//github.com/apache/hadoop -r 1827467c9a56f133025f28557bfc2c562d78e816</span>
</span></span><span class="line"><span class="cl"><span class="n">Compiled</span> <span class="k">by</span> <span class="n">centos</span> <span class="k">on</span> <span class="m">2020</span><span class="p">-</span><span class="m">09</span><span class="p">-</span><span class="m">14</span><span class="n">T13</span><span class="p">:</span><span class="m">17</span><span class="n">Z</span>
</span></span><span class="line"><span class="cl"><span class="n">Compiled</span> <span class="n">with</span> <span class="n">protoc</span> <span class="m">2.5</span><span class="p">.</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="n">From</span> <span class="n">source</span> <span class="n">with</span> <span class="n">checksum</span> <span class="m">3114</span><span class="n">edef868f1f3824e7d0f68be03650</span>
</span></span><span class="line"><span class="cl"><span class="n">This</span> <span class="n">command</span> <span class="n">was</span> <span class="n">run</span> <span class="k">using</span> <span class="err">/</span><span class="nn">opt</span><span class="p">/</span><span class="n">hadoop</span><span class="p">/</span><span class="n">share</span><span class="p">/</span><span class="n">hadoop</span><span class="p">/</span><span class="n">common</span><span class="p">/</span><span class="n">hadoop</span><span class="p">-</span><span class="n">common</span><span class="p">-</span><span class="m">2.10</span><span class="p">.</span><span class="m">1.</span><span class="n">jar</span>
</span></span></code></pre></div></li>
</ol>
<h2 id="步骤三配置hadoop">步骤三：配置Hadoop</h2>
<h4 id="修改hadoop配置文件core-sitexml">修改Hadoop配置文件core-site.xml。</h4>
<ol>
<li>
<p>执行以下命令，进入编辑页面。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vim /opt/hadoop/etc/hadoop/core-site.xml
</span></span></code></pre></div></li>
<li>
<p>输入<code>i</code>，进入编辑模式。</p>
</li>
<li>
<p>在<code>&lt;configuration&gt;&lt;/configuration&gt;</code>节点内，插入如下内容。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">    <span class="nt">&lt;property&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;name&gt;</span>hadoop.tmp.dir<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;value&gt;</span>file:/opt/hadoop/tmp<span class="nt">&lt;/value&gt;</span> <span class="c">&lt;!-- 自行修改 --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;description&gt;</span>location to store temporary files<span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/property&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;name&gt;</span>fs.defaultFS<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;value&gt;</span>hdfs://localhost:8020<span class="nt">&lt;/value&gt;</span> <span class="c">&lt;!--  host+port自行修改 --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/property&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>按<code>Esc</code>，退出编辑模式，并输入<code>:wq</code>保存并退出。</p>
</li>
</ol>
<h4 id="修改hadoop配置文件hdfs-sitexml">修改Hadoop配置文件hdfs-site.xml。</h4>
<ol>
<li>
<p>执行以下命令，进入编辑页面。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vim /opt/hadoop/etc/hadoop/hdfs-site.xml
</span></span></code></pre></div></li>
<li>
<p>输入<code>i</code>，进入编辑模式。</p>
</li>
<li>
<p>在<code>&lt;configuration&gt;&lt;/configuration&gt;</code>节点内，插入如下内容。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">    <span class="nt">&lt;property&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;name&gt;</span>dfs.replication<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;value&gt;</span>1<span class="nt">&lt;/value&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/property&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;name&gt;</span>dfs.namenode.name.dir<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;value&gt;</span>file:/opt/hadoop/tmp/dfs/name<span class="nt">&lt;/value&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/property&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;property&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;name&gt;</span>dfs.datanode.data.dir<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;value&gt;</span>file:/opt/hadoop/tmp/dfs/data<span class="nt">&lt;/value&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/property&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>按<code>Esc</code>，退出编辑模式，并输入<code>:wq</code>后保存并退出。</p>
</li>
</ol>
<h2 id="步骤四配置ssh免密登录">步骤四：配置SSH免密登录</h2>
<ol>
<li>
<p>执行以下命令，创建公钥和私钥。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh-keygen -t rsa
</span></span></code></pre></div><p>回显信息如下所示，表示创建公钥和私钥成功。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[root@iZbp1chrrv37a2kts7sydsZ ~]</span><span class="err">#</span> <span class="n">ssh</span><span class="p">-</span><span class="n">keygen</span> <span class="p">-</span><span class="n">t</span> <span class="n">rsa</span>
</span></span><span class="line"><span class="cl"><span class="n">Generating</span> <span class="kd">public</span><span class="p">/</span><span class="kd">private</span> <span class="n">rsa</span> <span class="n">key</span> <span class="n">pair</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="n">Enter</span> <span class="n">file</span> <span class="k">in</span> <span class="n">which</span> <span class="n">to</span> <span class="n">save</span> <span class="n">the</span> <span class="n">key</span> <span class="p">(/</span><span class="n">root</span><span class="p">/.</span><span class="n">ssh</span><span class="p">/</span><span class="n">id_rsa</span><span class="p">):</span>
</span></span><span class="line"><span class="cl"><span class="n">Enter</span> <span class="n">passphrase</span> <span class="p">(</span><span class="n">empty</span> <span class="k">for</span> <span class="n">no</span> <span class="n">passphrase</span><span class="p">):</span>
</span></span><span class="line"><span class="cl"><span class="n">Enter</span> <span class="n">same</span> <span class="n">passphrase</span> <span class="n">again</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">Your</span> <span class="n">identification</span> <span class="n">has</span> <span class="n">been</span> <span class="n">saved</span> <span class="k">in</span> <span class="p">/</span><span class="n">root</span><span class="p">/.</span><span class="n">ssh</span><span class="p">/</span><span class="n">id_rsa</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="n">Your</span> <span class="kd">public</span> <span class="n">key</span> <span class="n">has</span> <span class="n">been</span> <span class="n">saved</span> <span class="k">in</span> <span class="p">/</span><span class="n">root</span><span class="p">/.</span><span class="n">ssh</span><span class="p">/</span><span class="n">id_rsa</span><span class="p">.</span><span class="n">pub</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="n">The</span> <span class="n">key</span> <span class="n">fingerprint</span> <span class="k">is</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="n">SHA256</span><span class="p">:</span><span class="n">gjWO5mgARst</span><span class="p">+</span><span class="n">O5VUaTnGs</span><span class="p">+</span><span class="n">LxVhfmCJnQwKfEBTro2oQ</span> <span class="n">root@iZbp1chrrv37a2kts7s</span><span class="p">****</span>
</span></span><span class="line"><span class="cl"><span class="n">The</span> <span class="n">key</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">randomart</span> <span class="n">image</span> <span class="k">is</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="p">+---[</span><span class="n">RSA</span> <span class="m">2048</span><span class="p">]----+</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span> <span class="p">.</span>  <span class="n">o</span><span class="p">+</span><span class="n">Bo</span><span class="p">=</span>        <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span><span class="n">o</span> <span class="n">o</span> <span class="p">.+.</span><span class="err">#</span>   <span class="n">o</span>     <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|.=</span> <span class="n">o</span><span class="p">..</span><span class="n">B</span> <span class="p">=</span> <span class="p">+</span> <span class="p">.</span>    <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|=.</span>  <span class="n">oO</span><span class="p">.</span><span class="n">o</span> <span class="n">o</span> <span class="n">o</span>     <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span><span class="n">Eo</span><span class="p">..=</span><span class="n">o</span><span class="p">*</span> <span class="n">S</span> <span class="p">.</span>      <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|.+.+</span><span class="n">o</span><span class="p">.</span> <span class="p">+</span>         <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|.</span> <span class="p">+</span><span class="n">o</span><span class="p">.</span> <span class="p">.</span>          <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span> <span class="p">.</span>  <span class="p">.</span>            <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>                 <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">+----[</span><span class="n">SHA256</span><span class="p">]-----+</span>
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，将公钥添加到authorized_keys文件中。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> .ssh
</span></span><span class="line"><span class="cl">cat id_rsa.pub &gt;&gt; authorized_keys
</span></span></code></pre></div></li>
</ol>
<h2 id="步骤五启动hadoop">步骤五：启动Hadoop</h2>
<ol>
<li>
<p>执行以下命令，初始化<code>namenode </code>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">hadoop</span> <span class="n">namenode</span> <span class="o">-</span><span class="nb">format</span>
</span></span></code></pre></div></li>
<li>
<p>依次执行以下命令，启动Hadoop。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">start</span><span class="o">-</span><span class="n">dfs</span><span class="p">.</span><span class="n">sh</span><span class="w">
</span></span></span></code></pre></div><p>在弹出的提示中，依次输入<code>yes</code>。<img  src="https://s2.loli.net/2022/04/21/SyP4ARcFKJGdlMW.png"
        alt="adada"/></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">start</span><span class="o">-</span><span class="n">yarn</span><span class="p">.</span><span class="n">sh</span><span class="w">
</span></span></span></code></pre></div><p>回显信息如下所示。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[root@iZbp1chrrv37a2kts7s**** .ssh]</span><span class="err">#</span> <span class="n">start</span><span class="p">-</span><span class="n">yarn</span><span class="p">.</span><span class="n">sh</span>
</span></span><span class="line"><span class="cl"><span class="n">starting</span> <span class="n">yarn</span> <span class="n">daemons</span>
</span></span><span class="line"><span class="cl"><span class="n">starting</span> <span class="n">resourcemanager</span><span class="p">,</span> <span class="n">logging</span> <span class="n">to</span> <span class="p">/</span><span class="n">opt</span><span class="p">/</span><span class="n">hadoop</span><span class="p">/</span><span class="n">logs</span><span class="p">/</span><span class="n">yarn</span><span class="p">-</span><span class="n">root</span><span class="p">-</span><span class="n">resourcemanager</span><span class="p">-</span><span class="n">iZbp1chrrv37a2kts7sydsZ</span><span class="p">.</span><span class="k">out</span>
</span></span><span class="line"><span class="cl"><span class="n">localhost</span><span class="p">:</span> <span class="n">starting</span> <span class="n">nodemanager</span><span class="p">,</span> <span class="n">logging</span> <span class="n">to</span> <span class="p">/</span><span class="n">opt</span><span class="p">/</span><span class="n">hadoop</span><span class="p">/</span><span class="n">logs</span><span class="p">/</span><span class="n">yarn</span><span class="p">-</span><span class="n">root</span><span class="p">-</span><span class="n">nodemanager</span><span class="p">-</span><span class="n">iZbp1chrrv37a2kts7sydsZ</span><span class="p">.</span><span class="k">out</span>
</span></span></code></pre></div></li>
<li>
<p>执行以下命令，可查看成功启动的进程。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">jps
</span></span></code></pre></div><p>成功启动的进程如下所示。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[root@iZbp1chrrv37a2kts7s**** .ssh]</span><span class="err">#</span> <span class="n">jps</span>
</span></span><span class="line"><span class="cl"><span class="m">11620</span> <span class="n">DataNode</span>
</span></span><span class="line"><span class="cl"><span class="m">11493</span> <span class="n">NameNode</span>
</span></span><span class="line"><span class="cl"><span class="m">11782</span> <span class="n">SecondaryNameNode</span>
</span></span><span class="line"><span class="cl"><span class="m">11942</span> <span class="n">ResourceManager</span>
</span></span><span class="line"><span class="cl"><span class="m">12344</span> <span class="n">Jps</span>
</span></span><span class="line"><span class="cl"><span class="m">12047</span> <span class="n">NodeManager</span>
</span></span></code></pre></div></li>
<li>
<p>打开浏览器访问<code>http://&lt;ECS公网IP&gt;:8088</code>和<code>http://&lt;ECS公网IP&gt;:50070</code>。</p>
<p>显示如下界面，则表示Hadoop伪分布式环境已搭建完成。</p>
<p><strong>注意</strong> 需确保在ECS实例所在安全组的入方向中放行Hadoop所需的8088和50070端口，否则无法访问。具体操作，请参见<a href="https://help.aliyun.com/document_detail/25471.htm#concept-sm5-2wz-xdb"target="_blank">添加安全组规则</a>。</p>
<p><img  src="https://s2.loli.net/2022/04/21/ugzdpiAKQf9SeLV.png"
        alt="application"/><img  src="https://s2.loli.net/2022/04/21/WOcBx1LVClat72m.png"
        alt="adasdad"/></p>
</li>
</ol>
<h2 id="参考链接">参考链接</h2>
<p><a href="http://s.iarno.cn/fRVfE9"target="_blank">http://s.iarno.cn/fRVfE9</a></p>
<p><a href="http://s.iarno.cn/WrjzRC"target="_blank">http://s.iarno.cn/WrjzRC</a></p></article><section class="article labels"><a class="category" href=/categories/bigdata/>BigData</a><a class="tag" href=/tags/hadoop/>hadoop</a></section><section class="article author"><img class="avatar" src="/images/gopher.svg" alt><p class="name">IARNO</p><div class="bio">服务端开发</div><div class="details"><a class="item" href="https://github.com/iarno" target="_blank"><span class="iconfont icon-github"></span>&nbsp;iarno</a><a class="item" href="mailto:iarno@qq.com" target="_blank"><span class="iconfont icon-email"></span>&nbsp;iarno@qq.com</a></div>
</section></div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/article/maven/"><span class="iconfont icon-article"></span>Maven 安装使用</a></p><p><a class="link" href="/article/py_list/"><span class="iconfont icon-article"></span>Python 列表</a></p></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">©2025 IARNO</p><p style="font-size: 12px;"><a href="http://www.beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">京ICP备20010474号</a></p></div></section><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/&#43;DiW/UqRcLbRjq" crossorigin="anonymous"><script defer src="https://fastly.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l&#43;B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd&#43;qj&#43;o24G5ZU2zJz" crossorigin="anonymous"></script><script defer src="https://fastly.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
            onload="renderMathInElement(document.body);"></script><script>
        var theme = localStorage.getItem('theme');
        if (window.matchMedia('(prefers-color-scheme: light)').matches && theme == null) {
            document.getElementById('light-btn').classList.add('data-theme-btn');
            const lightIcon = document.getElementById('light-icon');
            const darkIcon = document.getElementById('dark-icon');

            lightIcon.style.display = 'block';
            darkIcon.style.display = 'none';
        }

        if (window.matchMedia('(prefers-color-scheme: dark)').matches && theme == null) {
            document.getElementById('dark-btn').classList.add('data-theme-btn');
            const lightIcon = document.getElementById('light-icon');
            const darkIcon = document.getElementById('dark-icon');

            lightIcon.style.display = 'none';
            darkIcon.style.display = 'block';
        }

        if (theme == "dark") {
            document.getElementById('dark-btn').classList.add('data-theme-btn');

            const lightIcon = document.getElementById('light-icon');
            const darkIcon = document.getElementById('dark-icon');

            lightIcon.style.display = 'none';
            darkIcon.style.display = 'block';
        }

        if (theme == "light") {
            document.getElementById('light-btn').classList.add('data-theme-btn');
            const lightIcon = document.getElementById('light-icon');
            const darkIcon = document.getElementById('dark-icon');

            lightIcon.style.display = 'block';
            darkIcon.style.display = 'none';
        }

        function toggleTheme(theme) {
            if (theme === "light") {
                localStorage.setItem('theme', 'light');

                document.getElementById('dark-btn').classList.remove('data-theme-btn');
                document.getElementById('light-btn').classList.add('data-theme-btn');

                const lightIcon = document.getElementById('light-icon');
                const darkIcon = document.getElementById('dark-icon');

                lightIcon.style.display = 'block';
                darkIcon.style.display = 'none';

                
                var styleSheets = document.styleSheets;

                
                for (var i = 0; i < styleSheets.length; i++) {
                    var rules = styleSheets[i].cssRules || styleSheets[i].rules;

                    
                    for (var j = 0; j < rules.length; j++) {
                        var rule = rules[j];

                        
                        if (rule.media && rule.media.mediaText === '(prefers-color-scheme: dark)') {
                            
                            rule.media.mediaText = '(prefers-color-scheme: light)';
                            
                        }
                    }
                }
            }

            if (theme === "dark") {
                localStorage.setItem('theme', 'dark');

                document.getElementById('light-btn').classList.remove('data-theme-btn');
                document.getElementById('dark-btn').classList.add('data-theme-btn');

                const lightIcon = document.getElementById('light-icon');
                const darkIcon = document.getElementById('dark-icon');

                lightIcon.style.display = 'none';
                darkIcon.style.display = 'block';

                
                var styleSheets = document.styleSheets;

                
                for (var i = 0; i < styleSheets.length; i++) {
                    var rules = styleSheets[i].cssRules || styleSheets[i].rules;

                    
                    for (var j = 0; j < rules.length; j++) {
                        var rule = rules[j];

                        
                        if (rule.media && rule.media.mediaText === '(prefers-color-scheme: light)') {
                            
                            rule.media.mediaText = '(prefers-color-scheme: dark)';
                            
                        }
                    }
                }
            }
        }


        if (theme == "light") {
            
            var styleSheets = document.styleSheets;

            
            for (var i = 0; i < styleSheets.length; i++) {
                var rules = styleSheets[i].cssRules || styleSheets[i].rules;

                
                for (var j = 0; j < rules.length; j++) {
                    var rule = rules[j];

                    
                    if (rule.media && rule.media.mediaText === '(prefers-color-scheme: dark)') {
                        
                        rule.media.mediaText = '(prefers-color-scheme: light)';
                        
                    }
                }
            }
        }

        if (theme == "dark") {
            
            var styleSheets = document.styleSheets;

            
            for (var i = 0; i < styleSheets.length; i++) {
                var rules = styleSheets[i].cssRules || styleSheets[i].rules;

                
                for (var j = 0; j < rules.length; j++) {
                    var rule = rules[j];

                    
                    if (rule.media && rule.media.mediaText === '(prefers-color-scheme: light)') {
                        
                        rule.media.mediaText = '(prefers-color-scheme: dark)';
                        
                    }
                }
            }
        }

    </script><script src="/js/hljs.min.8a2658ccca6d9e87a439ee65a5d1d1e166af57afdffd06d778243afc50968a2e8188303a6368ca04f679dd21a49af5bf.js" integrity="sha384-iiZYzMptnoekOe5lpdHR4WavV6/f/QbXeCQ6/FCWii6BiDA6Y2jKBPZ53SGkmvW/"></script><script>hljs.initHighlightingOnLoad();</script></body>

</html>